{% extends 'Adminpannel/index.html' %}
{% load static %}
{% block title %}<title>Invoice</title>{% endblock %}
{% block favicon %} <link rel="shortcut icon" type="image/png" href="{% static 'logo/logo.png' %}">{% endblock %}
{% block points %}{% endblock %}
{% block content %}
<body>
	<div class="main-wrapper">
		<div class="page-wrapper">
			<div class="content container-fluid">
				<div class="page-header">
					<div class="row align-items-center">
						<div class="col-sm-5 col-4">
							<div class="mt-5">
								<h4 class="card-title float-left mt-2">Invoice</h4>
							</div>
						</div>
						<div class="col-sm-7 col-8 text-right">
							<div class="mt-5">
								<div class="btn-group btn-group-sm" id="button-group">
									<button class="btn btn-white" id="csv-button">CSV</button>
									<button class="btn btn-white" id="pdf-button">PDF</button>
									<button class="btn btn-white" id="print-button"><i class="fas fa-print fa-lg"></i> Print</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="card">
							<div class="card-body">
								<div class="row custom-invoice">
									<div class="col-6 col-sm-6 m-b-20">
										<img src="assets/img/logo-dark.png" class="inv-logo" alt="">
										<ul class="list-unstyled">
											<li>HOMERENT</li>
											<li>A.M.S CORPOTATION</li>
											<li>Dokking Gouripur,Ashulia,91403</li>
											<li>amshouse@gmail.com</li>
										</ul>
									</div>
									<div class="col-6 col-sm-6 m-b-20">
										<div class="invoice-details">
											<h3 class="text-uppercase">#{{ order.order_id }}</h3>
											<ul class="list-unstyled">
												<li>Date: <span>{{ order.order_date|date:"F d, Y" }}</span></li>
												<li>Status: <span style="background-color: aqua;">{{ order.payment_status}}</span></li>
											</ul>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-6 col-lg-6 m-b-20">
										<h5>Invoice to:</h5>
										<ul class="list-unstyled">
											<li>
												<h5><strong>{{ order.fname }} {{ order.lname }}</strong></h5>
											</li>
											<li><span>{{ order.address }}</span></li>
											<li>{{ order.city_town }}</li>
											<li>{{ order.state }}</li>
											<li>{{ order.postcode_zip }}</li>
											<li>{{ order.phone_number }}</li>
											<li>{{order.user.email }}</li>
										</ul>
									</div>
									<div class="col-sm-6 col-lg-6 m-b-20">
										<div class="invoices-view">
											<span class="text-muted">Payment Details:</span>
											<ul class="list-unstyled invoice-payment-details">
												<li>
													<h5>Total Due:
														<span class="text-right">BDT{{ order.total_amount }}</span>
													</h5>
												</li>
												<li>Payment Method: <span>{{ order.address }}</span></li>
												<li>Country: <span>Bangladesh</span></li>
												<li>Address: <span>{{ order.city_town }}, {{ order.state }}</span></li>
												<li>postcode_zip <span> {{ order.postcode_zip }}</span></li>
												<li>Address: <span>{{ order.address }}</span></li>
											</ul>
										</div>
									</div>
								</div>
								<div class="table-responsive">
									<table class="table table-striped table-hover">
										<thead>
											<tr>
												<th>#</th>
												<th>ITEM</th>
												<th>IMAGE</th>
												<th>DESCRIPTION</th>
												<th>UNIT COST</th>
												<th>QUANTITY</th>
												<th>TOTAL</th>
											</tr>
										</thead>
										<tbody>
											{% for item in order.orderitem_set.all %}
											<tr>
												<td>{{ forloop.counter }}</td>
												<td>{{ item.medicine.name }}</td>
												<td><img src="{{ item.medicine.medicine_image.url }}"
														alt="{{ item.medicine.name }}"
														style="width: 50px; height: 50px;"></td>
												<td>{{ item.medicine.description }}</td>
												<td>BDT{{ item.price }}</td>
												<td>{{ item.quantity }}</td>
												<td>BDT{{ item.subtotal }}</td>
											</tr>
											{% endfor %}
										</tbody>
									</table>
								</div>
								<div>
									<div class="row invoice-payment">
										<div class="col-sm-7">
										</div>
										<div class="col-sm-5">
											<div class="m-b-20">
												<h6>Total due</h6>
												<div class="table-responsive no-border">
													<table class="table mb-0">
														<tbody>
															<tr>
																<th>Subtotal:</th>
																<td class="text-right">BDT{{ total_subtotal|floatformat:"2" }}</td>
															</tr>
															<tr>
																<th>Delivary Charge: <span
																		class="text-regular">(10%)</span></th>
																<td class="text-right">BDT100</td>
															</tr>
															<tr>
																<th>Total:</th>
																<td class="text-right text-primary">
																	<h5>{{ order.total_amount }}</h5>
																</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
									<div class="invoice-info">
										<h5>Other information</h5>
										<p>Thank you for choosing our store! We truly appreciate your business and hope
											you enjoy your purchase. Your support means a lot to us and allows us to
											continue providing high-quality products and services to our valued
											customers like you. If you have any questions or concerns about your order,
											please don't hesitate to contact us. We're here to help! Once again, thank
											you for shopping with us.</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script>
	$(function() {
		$('#datetimepicker3').datetimepicker({
			format: 'LT'
		});
	});
	</script>
{% endblock %}